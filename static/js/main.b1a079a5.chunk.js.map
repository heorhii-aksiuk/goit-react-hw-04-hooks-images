{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/FallbackContainer/FallbackContainer.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/apiService.js","components/Button/Button.js","components/Modal/Modal.js","components/FallbackContainer/FallbackContainer.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmitGet","useState","value","setValue","className","s","searchbar","form","onSubmit","e","preventDefault","type","button","onChange","target","input","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","largeImageURL","showFull","tags","item","image","onClick","src","alt","ImageGallery","items","imageGallery","map","id","BASE_URL","API_KEY","query","page","a","searchParams","URLSearchParams","q","key","image_type","orientation","per_page","fetch","apiFetch","json","response","hits","Button","loadMore","Modal","closeModal","children","overlay","modal","FallbackContainer","container","IDLE","PENDING","RESOLVED","REJECTED","App","status","setStatus","searchValue","setSearchValue","setPage","setItems","showModal","setShowModal","largeImage","setLargeImage","error","setError","toggleModal","prevState","useEffect","trim","apiService","then","newItems","catch","app","color","height","width","message","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b1a079a5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1CHgL\",\"modal\":\"Modal_modal__3G6Jh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__XM0KX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__T5_E1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1hvIX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FallbackContainer_container__ohGCG\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { BsSearch } from 'react-icons/bs';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmitGet }) {\n  const [value, setValue] = useState('');\n\n  function handleChange({ target }) {\n    setValue(target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmitGet(value);\n  }\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.button}>\n          <BsSearch />\n        </button>\n        <input\n          onChange={handleChange}\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmitGet: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  showFull,\n  tags,\n}) {\n  return (\n    <li className={s.item}>\n      <img\n        className={s.image}\n        onClick={() => showFull(largeImageURL)}\n        src={webformatURL}\n        alt={tags}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  showFull: PropTypes.func.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ items, showFull }) {\n  return (\n    <ul className={s.imageGallery}>\n      {items.map(item => (\n        <ImageGalleryItem\n          key={item.id}\n          showFull={showFull}\n          webformatURL={item.webformatURL}\n          largeImageURL={item.largeImageURL}\n          tags={item.tags}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n};\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '24011643-a99499b85595b827654661749';\n\nexport default async function apiService(query, page) {\n  const searchParams = new URLSearchParams({\n    q: query,\n    page: page,\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: '12',\n  });\n\n  const apiFetch = await fetch(`${BASE_URL}?${searchParams}`);\n  const response = await apiFetch.json();\n  const { hits } = response;\n  return hits;\n}\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ loadMore }) {\n  return (\n    <button className={s.button} onClick={loadMore} type=\"button\">\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  loadMore: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nexport default function Modal({ closeModal, children }) {\n  return (\n    <div onClick={closeModal} className={s.overlay}>\n      <div className={s.modal}>{children}</div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  children: PropTypes.element.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './FallbackContainer.module.css';\n\nexport default function FallbackContainer({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nFallbackContainer.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport apiService from './services/apiService';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport s from './App.module.css';\nimport FallbackContainer from './components/FallbackContainer/FallbackContainer';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\nconst { IDLE, PENDING, RESOLVED, REJECTED } = Status;\n\nexport default function App() {\n  const startPage = 1;\n  const [status, setStatus] = useState(IDLE);\n  const [searchValue, setSearchValue] = useState('');\n  const [page, setPage] = useState(startPage);\n  const [items, setItems] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!searchValue.trim()) {\n      setStatus(IDLE);\n    } else {\n      setStatus(PENDING);\n      apiService(searchValue, page)\n        .then(newItems => {\n          if (page === startPage) {\n            setItems(newItems);\n          } else {\n            setItems(prevState => {\n              return [...prevState, ...newItems];\n            });\n          }\n          setStatus(RESOLVED);\n        })\n        .catch(error => {\n          setError(error);\n          setStatus(REJECTED);\n        });\n    }\n  }, [page, searchValue]);\n\n  function handleSubmit(searchValue) {\n    setSearchValue(searchValue);\n    setPage(startPage);\n    setItems(null);\n  }\n\n  function handleLoadMore() {\n    setPage(prevState => {\n      return prevState + 1;\n    });\n  }\n\n  function toggleModal() {\n    setShowModal(prevState => {\n      return !prevState;\n    });\n  }\n\n  function showLargeImage(largeImage) {\n    setLargeImage(largeImage);\n    toggleModal();\n  }\n\n  return (\n    <div className={s.app}>\n      {showModal && (\n        <Modal closeModal={toggleModal}>\n          <img src={largeImage} alt=\"Full size\" />\n        </Modal>\n      )}\n\n      <Searchbar onSubmitGet={handleSubmit} />\n      {items && <ImageGallery items={items} showFull={showLargeImage} />}\n\n      {status === PENDING && (\n        <FallbackContainer>\n          <Loader type=\"Oval\" color=\"#00BFFF\" height={150} width={150} />\n        </FallbackContainer>\n      )}\n\n      {status === RESOLVED && <Button loadMore={handleLoadMore} />}\n\n      {status === REJECTED && <p>{error.message}</p>}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__EAJ8X\",\"form\":\"Searchbar_form__2fI-Z\",\"button\":\"Searchbar_button__2Se1H\",\"input\":\"Searchbar_input__2pV60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__7VSqv\",\"image\":\"ImageGalleryItem_image__2OO-G\"};"],"sourceRoot":""}