{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/FallbackContainer/FallbackContainer.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/apiService.js","components/Button/Button.js","components/Modal/Modal.js","components/FallbackContainer/FallbackContainer.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","value","handleChange","target","setState","handleSubmit","e","preventDefault","onSubmitGet","props","className","s","searchbar","form","onSubmit","this","type","button","onChange","input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","showFull","tags","item","image","onClick","src","alt","ImageGallery","items","imageGallery","map","id","BASE_URL","API_KEY","apiService","query","page","a","searchParams","URLSearchParams","q","key","image_type","orientation","per_page","fetch","apiFetch","json","response","hits","Button","loadMore","Modal","closeModal","children","overlay","modal","FallbackContainer","container","Status","App","searchValue","error","status","showModal","largeImage","handleLoadMore","toggleModal","showLargeImage","prevProps","prevState","prevRequest","currentRequest","trim","prevPage","currentPage","then","catch","newItems","app","color","height","width","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.296286d5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1CHgL\",\"modal\":\"Modal_modal__3G6Jh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__XM0KX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__T5_E1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1hvIX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FallbackContainer_container__ohGCG\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { BsSearch } from 'react-icons/bs';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmitGet: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = ({ target }) => {\n    this.setState({ value: target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmitGet } = this.props;\n    const { value } = this.state;\n    onSubmitGet(value);\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <BsSearch />\n          </button>\n          <input\n            onChange={this.handleChange}\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const { webformatURL, largeImageURL, showFull, tags } = this.props;\n    return (\n      <li className={s.item}>\n        <img\n          className={s.image}\n          onClick={() => showFull(largeImageURL)}\n          src={webformatURL}\n          alt={tags}\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  render() {\n    const { items, showFull } = this.props;\n    return (\n      <ul className={s.imageGallery}>\n        {items.map(item => (\n          <ImageGalleryItem\n            key={item.id}\n            showFull={showFull}\n            webformatURL={item.webformatURL}\n            largeImageURL={item.largeImageURL}\n            tags={item.tags}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '24011643-a99499b85595b827654661749';\n\nexport default async function apiService(query, page) {\n  const searchParams = new URLSearchParams({\n    q: query,\n    page: page,\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: '12',\n  });\n\n  const apiFetch = await fetch(`${BASE_URL}?${searchParams}`);\n  const response = await apiFetch.json();\n  const { hits } = response;\n  return hits;\n}\n","import React, { Component } from 'react';\nimport s from './Button.module.css';\n\nexport default class Button extends Component {\n  render() {\n    const { loadMore } = this.props;\n    return (\n      <button className={s.button} onClick={loadMore} type=\"button\">\n        Load more\n      </button>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './Modal.module.css';\n\nexport default class Modal extends Component {\n  render() {\n    const { closeModal, children } = this.props;\n    return (\n      <div onClick={closeModal} className={s.overlay}>\n        <div className={s.modal}>{children}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './FallbackContainer.module.css';\n\nexport default class FallbackContainer extends Component {\n  render() {\n    const { children } = this.props;\n    return <div className={s.container}>{children}</div>;\n  }\n}\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport apiService from './services/apiService';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport s from './App.module.css';\nimport FallbackContainer from './components/FallbackContainer/FallbackContainer';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    searchValue: '',\n    page: 1,\n    items: null,\n    error: null,\n    status: Status.IDLE,\n    showModal: false,\n    largeImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevRequest = prevState.searchValue;\n    const currentRequest = this.state.searchValue.trim();\n    const prevPage = prevState.page;\n    const currentPage = this.state.page;\n    const firstPage = 1;\n\n    if (currentRequest === '') {\n      return;\n    } else if (currentRequest !== prevRequest) {\n      this.setState({\n        page: firstPage,\n        items: null,\n        status: Status.PENDING,\n      });\n      apiService(currentRequest, firstPage)\n        .then(items =>\n          this.setState({\n            items,\n            status: Status.RESOLVED,\n          }),\n        )\n        .catch(error =>\n          this.setState({\n            error,\n            status: Status.REJECTED,\n          }),\n        );\n    } else if (currentPage !== firstPage && currentPage !== prevPage) {\n      apiService(currentRequest, currentPage)\n        .then(newItems =>\n          this.setState({\n            items: [...this.state.items, ...newItems],\n            status: Status.RESOLVED,\n          }),\n        )\n        .catch(error =>\n          this.setState({\n            error,\n            status: Status.REJECTED,\n          }),\n        );\n    }\n  }\n\n  handleSubmit = searchValue => {\n    this.setState({ searchValue });\n  };\n\n  handleLoadMore = () => {\n    this.setState(state => ({\n      page: state.page + 1,\n    }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  showLargeImage = largeImage => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  render() {\n    const { items, status, showModal, largeImage } = this.state;\n    return (\n      <div className={s.app}>\n        {showModal && (\n          <Modal closeModal={this.toggleModal}>\n            <img src={largeImage} alt=\"Full size\" />\n          </Modal>\n        )}\n\n        <Searchbar onSubmitGet={this.handleSubmit} />\n        {items && <ImageGallery items={items} showFull={this.showLargeImage} />}\n\n        {status === Status.PENDING && (\n          <FallbackContainer>\n            <Loader type=\"Oval\" color=\"#00BFFF\" height={150} width={150} />\n          </FallbackContainer>\n        )}\n\n        {status === Status.RESOLVED && (\n          <Button loadMore={this.handleLoadMore} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__EAJ8X\",\"form\":\"Searchbar_form__2fI-Z\",\"button\":\"Searchbar_button__2Se1H\",\"input\":\"Searchbar_input__2pV60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__7VSqv\",\"image\":\"ImageGalleryItem_image__2OO-G\"};"],"sourceRoot":""}